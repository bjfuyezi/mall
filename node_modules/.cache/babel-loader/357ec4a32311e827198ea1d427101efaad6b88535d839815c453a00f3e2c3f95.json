{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport axios from \"axios\";\nexport default {\n  name: 'UserCouponView',\n  data() {\n    return {\n      activeTab: 'all',\n      //默认为all\n      userId: null,\n      userCoupons: [],\n      flattenedUserCoupons: [],\n      showUserCoupons: [],\n      loading: false,\n      platformCouponDialogVisible: false,\n      // 平台券弹窗是否显示\n      shopCouponDialogVisible: false,\n      // 店铺券弹窗是否显示\n      platformScopeData: [],\n      //存储返回来的平台券范围\n      shopScopeData: [],\n      selectIndex: 0\n    };\n  },\n  computed: {\n    // 将用户优惠券数据扁平化\n    flattening() {\n      const data = [];\n      // 处理平台优惠券\n      this.userCoupons.platformCoupons.forEach(coupon => {\n        data.push({\n          isPlatformCoupon: true,\n          // 标记为平台优惠券\n          user_coupon_id: coupon.user_coupon_detail.user_coupon_id,\n          user_id: coupon.user_coupon_detail.user_id,\n          coupon_id: coupon.coupon_detail.coupon_id,\n          status: coupon.user_coupon_detail.status,\n          // 使用状态\n          claim_time: coupon.user_coupon_detail.claim_time,\n          coupon_type: coupon.coupon_detail.coupon_type,\n          //券的类型，平台或者店铺\n          start_time: coupon.coupon_detail.start_time,\n          //有效期\n          end_time: coupon.coupon_detail.end_time,\n          scope: coupon.coupon_detail.scope,\n          //范围数组，平台券指的是店铺范围，店铺券指的是商品范围\n          request: coupon.coupon_detail.request,\n          //券的额度\n          off: coupon.coupon_detail.off,\n          coupon_status: coupon.coupon_detail.coupon_status,\n          //券的状态\n          total: coupon.coupon_detail.total,\n          claim_limit: coupon.coupon_detail.claim_limit,\n          max_unused_count: coupon.coupon_detail.max_unused_count,\n          create_time: coupon.coupon_detail.create_time,\n          shop_id: coupon.coupon_detail.shop_id || null // 平台优惠券可能没有店铺ID\n        });\n      });\n\n      // 处理店铺优惠券\n      this.userCoupons.shopCoupons.forEach(shop => {\n        shop.user_coupons.forEach(coupon => {\n          data.push({\n            isPlatformCoupon: false,\n            // 标记为店铺优惠券\n            shop_id: shop.shop_id,\n            // 所属店铺\n            shop_name: shop.shop_name,\n            // 店铺名称\n            user_coupon_id: coupon.user_coupon_detail.user_coupon_id,\n            user_id: coupon.user_coupon_detail.user_id,\n            coupon_id: coupon.coupon_detail.coupon_id,\n            status: coupon.user_coupon_detail.status,\n            // 使用状态\n            claim_time: coupon.user_coupon_detail.claim_time,\n            coupon_type: coupon.coupon_detail.coupon_type,\n            start_time: coupon.coupon_detail.start_time,\n            end_time: coupon.coupon_detail.end_time,\n            scope: coupon.coupon_detail.scope,\n            request: coupon.coupon_detail.request,\n            off: coupon.coupon_detail.off,\n            coupon_status: coupon.coupon_detail.coupon_status,\n            total: coupon.coupon_detail.total,\n            claim_limit: coupon.coupon_detail.claim_limit,\n            max_unused_count: coupon.coupon_detail.max_unused_count,\n            create_time: coupon.coupon_detail.create_time\n          });\n        });\n      });\n      return data;\n    }\n  },\n  methods: {\n    async getUserCoupons() {\n      this.loading = true;\n      this.user_id = this.$store.getters.userId; // 获取用户ID\n      console.log(\"当前用户id为：\" + this.user_id);\n      try {\n        const userCouponResponse = await axios.get('http://localhost:8081/userCoupon/list', {\n          params: {\n            user_id: this.user_id\n          }\n        });\n        if (userCouponResponse.data != null) {\n          // console.log(\"get回复：\"+cartResponse.data);\n          this.userCoupons = userCouponResponse.data;\n          // 触发数据扁平化\n          this.flattenedUserCoupons = this.flattening; // 直接调用计算属性\n          console.log('flattenedUserCoupons:', this.flattenedUserCoupons); // 打印 flattenedUserCoupons 的值\n          this.showUserCoupons = this.flattenedUserCoupons;\n          console.log(\"showUserCoupons:\", this.showUserCoupons);\n        }\n      } catch (error) {\n        console.error(\"获取用户优惠券数据失败\", error);\n      } finally {\n        this.loading = false;\n      }\n    },\n    handleTabClick(tab) {\n      const status = tab.name;\n      if (status === 'all') {\n        this.showUserCoupons = this.flattenedUserCoupons;\n      } else {\n        this.showUserCoupons = this.flattenedUserCoupons.filter(item => item.status === status);\n      }\n    },\n    numberFormatter(row, column, value) {\n      return `${value.toFixed(2)}`;\n    },\n    // 金额格式化函数，将数字格式化为人民币形式\n    currencyFormatter(row, column, value) {\n      // 保留两位小数并添加人民币符号\n      return `￥${value.toFixed(2)}`;\n    },\n    // 优惠券类型的格式化函数，判断是平台券还是店铺券\n    couponTypeFormatter(row) {\n      console.log(\"couponTypeFormatter\", row);\n      // 根据 'isPlatformCoupon' 值判断并返回相应的券类型\n      return row.isPlatformCoupon ? \"平台券\" : `${row.shop_name}店铺券`;\n    },\n    // 券的状态\n    statusFormatter(row, column, value) {\n      if (value === 'Unused') {\n        return \"未使用\";\n      } else if (value === 'Used') {\n        return \"已使用\";\n      } else if (value === 'Expired') {\n        return \"已过期\";\n      } else {\n        return \"未知状态\";\n      }\n    },\n    parseJson(str) {\n      return JSON.parse(str);\n    },\n    // 查看券的可用范围\n    async viewCouponRange(row, index) {\n      this.selectIndex = index + 1;\n      const couponId = row.coupon_id; // 获取当前行的 coupon_id\n      try {\n        const response = await axios.get(`http://localhost:8081/userCoupon/scope/details?coupon_id=${couponId}`);\n        const scopeDetails = response.data;\n        if (row.isPlatformCoupon) {\n          this.platformScopeData = scopeDetails.platform || [];\n          this.shopScopeData = []; // 清空店铺券数据\n          console.log(\"platform:\", this.shopScopeData);\n          console.log(\"platform:\", this.platformScopeData);\n          this.platformCouponDialogVisible = true; // 显示平台券弹窗\n        } else {\n          this.shopScopeData = scopeDetails.shop || [];\n          this.platformScopeData = []; // 清空平台券数据\n          console.log(\"shop:\", this.shopScopeData);\n          console.log(\"shop:\", this.platformScopeData);\n          this.shopCouponDialogVisible = true; // 显示店铺券弹窗\n        }\n      } catch (error) {\n        console.error(\"获取范围数据失败:\", error);\n      }\n    },\n    // 清空平台券数据\n    clearPlatformScopeData() {\n      this.platformScopeData = [];\n    },\n    // 清空店铺券数据\n    clearShopScopeData() {\n      this.shopScopeData = [];\n    }\n  },\n  created() {\n    console.log('用户优惠券数据加载开始');\n    this.getUserCoupons();\n    console.log('用户优惠券数据加载完成');\n    // 模拟从后端获取数据\n    this.loading = false;\n  }\n};","map":{"version":3,"names":["axios","name","data","activeTab","userId","userCoupons","flattenedUserCoupons","showUserCoupons","loading","platformCouponDialogVisible","shopCouponDialogVisible","platformScopeData","shopScopeData","selectIndex","computed","flattening","platformCoupons","forEach","coupon","push","isPlatformCoupon","user_coupon_id","user_coupon_detail","user_id","coupon_id","coupon_detail","status","claim_time","coupon_type","start_time","end_time","scope","request","off","coupon_status","total","claim_limit","max_unused_count","create_time","shop_id","shopCoupons","shop","user_coupons","shop_name","methods","getUserCoupons","$store","getters","console","log","userCouponResponse","get","params","error","handleTabClick","tab","filter","item","numberFormatter","row","column","value","toFixed","currencyFormatter","couponTypeFormatter","statusFormatter","parseJson","str","JSON","parse","viewCouponRange","index","couponId","response","scopeDetails","platform","clearPlatformScopeData","clearShopScopeData","created"],"sources":["src/views/usermodel/UserCouponView.vue"],"sourcesContent":["<template>\r\n  <div class=\"user-coupons-container\">\r\n    <div class=\"user-coupons-page\">\r\n      <div class=\"coupons-container\">\r\n        <h2>我的优惠券</h2>\r\n\r\n        <!-- 优惠券状态标签 -->\r\n        <div class=\"coupon-tabs\">\r\n          <el-tabs v-model=\"activeTab\" @tab-click=\"handleTabClick\">\r\n            <el-tab-pane label=\"全部\" name=\"all\"></el-tab-pane>\r\n            <el-tab-pane label=\"未使用\" name=\"Unused\"></el-tab-pane>\r\n            <el-tab-pane label=\"已使用\" name=\"Used\"></el-tab-pane>\r\n            <el-tab-pane label=\"已过期\" name=\"Expired\"></el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n\r\n        <!-- 优惠券列表 -->\r\n        <div v-if=\"showUserCoupons.length > 0\">\r\n          <!-- 判断 showUserCoupons 是否有数据，若有则渲染表格 -->\r\n          <el-table :data=\"showUserCoupons\" border stripe style=\"width: 100%; table-layout: auto;margin: 0 auto;\">\r\n            <!-- 序号列 -->\r\n            <el-table-column\r\n                label=\"序号\"\r\n                type=\"index\"\r\n                span=\"3\"\r\n                :index=\"(index) => index + 1\"\r\n            ></el-table-column>\r\n            <!-- 券类型列 -->\r\n            <!-- :formatter=\"couponTypeFormatter\" 使用自定义的 formatter 来判断券类型 -->\r\n            <el-table-column\r\n                label=\"券类型【来源】\"\r\n                span=\"4\"\r\n                :formatter=\"(row) => couponTypeFormatter(row)\"\r\n            >\r\n            </el-table-column>\r\n\r\n            <!-- 门槛金额列 -->\r\n            <!-- prop=\"request\"  显示 'request' 属性值 -->\r\n            <!-- :formatter=\"currencyFormatter\"  使用 currencyFormatter 格式化为货币 -->\r\n            <el-table-column\r\n                label=\"门槛金额\"\r\n                prop=\"request\"\r\n                span=\"3\"\r\n                :formatter=\"currencyFormatter\"\r\n            >\r\n            </el-table-column>\r\n\r\n            <!-- 折扣金额列 -->\r\n            <!-- prop=\"off\"  显示 'off' 属性值 -->\r\n            <!-- :formatter=\"currencyFormatter\"  使用 currencyFormatter 格式化为货币 -->\r\n            <el-table-column\r\n                label=\"折扣金额\"\r\n                prop=\"off\"\r\n                span=\"3\"\r\n                :formatter=\"currencyFormatter\"\r\n            >\r\n            </el-table-column>\r\n\r\n            <!-- 有效期列 -->\r\n            <el-table-column\r\n                label=\"有效期\"\r\n                span=\"6\"\r\n            >\r\n              <!-- 使用 slot-scope 渲染每一行的开始和结束时间 -->\r\n              <template slot-scope=\"scope\">\r\n                {{ scope.row.start_time }} - {{ scope.row.end_time }} <!-- 显示有效期 -->\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                label=\"状态\"\r\n                prop=\"status\"\r\n                span=\"4\"\r\n                :formatter=\"statusFormatter\"\r\n            >\r\n            </el-table-column>\r\n            <!-- 操作列，展示查看范围按钮 -->\r\n            <el-table-column\r\n                label=\"操作\"\r\n                span=\"4\"\r\n            >\r\n              <template slot-scope=\"scope\">\r\n                <!-- 按钮点击事件调用 viewCouponRange 方法 -->\r\n                <el-button @click=\"viewCouponRange(scope.row,scope.$index)\" type=\"text\" size=\"small\">查看范围</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n\r\n        <!-- 空状态 -->\r\n        <div v-else class=\"empty-state\">\r\n          <i class=\"el-icon-s-ticket\"></i>\r\n          <p>您的账户没有此类优惠券</p>\r\n        </div>\r\n\r\n        <!-- 弹窗1：平台券范围展示 -->\r\n        <el-dialog\r\n            :visible.sync=\"platformCouponDialogVisible\"\r\n            title=\"平台券范围展示\"\r\n            width=\"60%\"\r\n            @close=\"clearPlatformScopeData\"\r\n        >\r\n          <div v-if=\"platformScopeData.length > 0\">\r\n            <h3>序号为{{this.selectIndex}}的优惠券的可用店铺信息如下</h3>\r\n            <el-table :data=\"platformScopeData\" style=\"width: 100%\" border stripe>\r\n              <el-table-column label=\"店铺名\" prop=\"shop_name\"></el-table-column>\r\n              <el-table-column label=\"描述\" prop=\"shop_description\"></el-table-column>\r\n              <el-table-column label=\"位置\" prop=\"location\"></el-table-column>\r\n              <el-table-column label=\"店铺评分\" prop=\"level\"></el-table-column>\r\n              <el-table-column label=\"状态\" prop=\"status\"></el-table-column>\r\n            </el-table>\r\n          </div>\r\n          <div v-else>\r\n            <p>没有可用范围。</p>\r\n          </div>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"platformCouponDialogVisible = false\">关闭</el-button>\r\n          </span>\r\n        </el-dialog>\r\n\r\n        <!-- 弹窗2：店铺券范围展示 -->\r\n        <el-dialog\r\n            :visible.sync=\"shopCouponDialogVisible\"\r\n            title=\"店铺券范围展示\"\r\n            width=\"60%\"\r\n            @close=\"clearShopScopeData\"\r\n        >\r\n          <div v-if=\"shopScopeData.length > 0\">\r\n            <h3>序号为{{this.selectIndex}}的优惠券的可用商品信息如下</h3>\r\n            <el-table :data=\"shopScopeData\" style=\"width: 100%\" border stripe>\r\n              <el-table-column label=\"产品名\" prop=\"name\"></el-table-column>\r\n              <el-table-column label=\"分类\" prop=\"category\"></el-table-column>\r\n              <el-table-column label=\"价格\" prop=\"price\"></el-table-column>\r\n              <el-table-column label=\"描述\" prop=\"price\"></el-table-column>\r\n              <el-table-column label=\"库存\">\r\n                <template slot-scope=\"scope\">\r\n                  <div>\r\n                    <div v-if=\"scope.row.quantity && scope.row.quantity.length>0\">\r\n                      <div v-for=\"(item, index) in parseJson(scope.row.quantity)\" :key=\"index\">\r\n                        <span>{{ item.flavor }}: {{ item.quantity }} {{ scope.row.unit }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div v-else>无库存</div>\r\n                  </div>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"状态\" prop=\"status\"></el-table-column>\r\n              <!-- 根据需要展示更多内容 -->\r\n            </el-table>\r\n          </div>\r\n          <div v-else>\r\n            <p>没有可用范围。</p>\r\n          </div>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"shopCouponDialogVisible = false\">关闭</el-button>\r\n          </span>\r\n        </el-dialog>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: 'UserCouponView',\r\n  data() {\r\n    return {\r\n      activeTab: 'all',//默认为all\r\n      userId : null,\r\n      userCoupons: [],\r\n      flattenedUserCoupons:[],\r\n      showUserCoupons:[],\r\n      loading :false,\r\n      platformCouponDialogVisible: false, // 平台券弹窗是否显示\r\n      shopCouponDialogVisible: false, // 店铺券弹窗是否显示\r\n      platformScopeData:[],//存储返回来的平台券范围\r\n      shopScopeData:[],\r\n      selectIndex:0,\r\n    }\r\n  },\r\n  computed:{\r\n    // 将用户优惠券数据扁平化\r\n    flattening() {\r\n      const data = [];\r\n      // 处理平台优惠券\r\n      this.userCoupons.platformCoupons.forEach(coupon => {\r\n        data.push({\r\n          isPlatformCoupon: true, // 标记为平台优惠券\r\n          user_coupon_id: coupon.user_coupon_detail.user_coupon_id,\r\n          user_id: coupon.user_coupon_detail.user_id,\r\n          coupon_id: coupon.coupon_detail.coupon_id,\r\n          status: coupon.user_coupon_detail.status, // 使用状态\r\n          claim_time: coupon.user_coupon_detail.claim_time,\r\n          coupon_type: coupon.coupon_detail.coupon_type,//券的类型，平台或者店铺\r\n          start_time: coupon.coupon_detail.start_time,//有效期\r\n          end_time: coupon.coupon_detail.end_time,\r\n          scope: coupon.coupon_detail.scope,//范围数组，平台券指的是店铺范围，店铺券指的是商品范围\r\n          request: coupon.coupon_detail.request,//券的额度\r\n          off: coupon.coupon_detail.off,\r\n          coupon_status: coupon.coupon_detail.coupon_status,//券的状态\r\n          total: coupon.coupon_detail.total,\r\n          claim_limit: coupon.coupon_detail.claim_limit,\r\n          max_unused_count: coupon.coupon_detail.max_unused_count,\r\n          create_time: coupon.coupon_detail.create_time,\r\n          shop_id: coupon.coupon_detail.shop_id || null, // 平台优惠券可能没有店铺ID\r\n        });\r\n      });\r\n\r\n      // 处理店铺优惠券\r\n      this.userCoupons.shopCoupons.forEach(shop => {\r\n        shop.user_coupons.forEach(coupon => {\r\n          data.push({\r\n            isPlatformCoupon: false, // 标记为店铺优惠券\r\n            shop_id: shop.shop_id, // 所属店铺\r\n            shop_name: shop.shop_name, // 店铺名称\r\n            user_coupon_id: coupon.user_coupon_detail.user_coupon_id,\r\n            user_id: coupon.user_coupon_detail.user_id,\r\n            coupon_id: coupon.coupon_detail.coupon_id,\r\n            status: coupon.user_coupon_detail.status, // 使用状态\r\n            claim_time: coupon.user_coupon_detail.claim_time,\r\n            coupon_type: coupon.coupon_detail.coupon_type,\r\n            start_time: coupon.coupon_detail.start_time,\r\n            end_time: coupon.coupon_detail.end_time,\r\n            scope: coupon.coupon_detail.scope,\r\n            request: coupon.coupon_detail.request,\r\n            off: coupon.coupon_detail.off,\r\n            coupon_status: coupon.coupon_detail.coupon_status,\r\n            total: coupon.coupon_detail.total,\r\n            claim_limit: coupon.coupon_detail.claim_limit,\r\n            max_unused_count: coupon.coupon_detail.max_unused_count,\r\n            create_time: coupon.coupon_detail.create_time,\r\n          });\r\n        });\r\n      });\r\n      return data;\r\n    },\r\n  },\r\n  methods:{\r\n    async getUserCoupons() {\r\n      this.loading = true;\r\n      this.user_id = this.$store.getters.userId; // 获取用户ID\r\n      console.log(\"当前用户id为：\" + this.user_id);\r\n\r\n      try {\r\n        const userCouponResponse = await axios.get('http://localhost:8081/userCoupon/list', {\r\n          params: { user_id: this.user_id }\r\n        });\r\n        if (userCouponResponse.data != null) {\r\n          // console.log(\"get回复：\"+cartResponse.data);\r\n          this.userCoupons = userCouponResponse.data;\r\n          // 触发数据扁平化\r\n          this.flattenedUserCoupons = this.flattening;  // 直接调用计算属性\r\n          console.log('flattenedUserCoupons:', this.flattenedUserCoupons); // 打印 flattenedUserCoupons 的值\r\n          this.showUserCoupons = this.flattenedUserCoupons;\r\n          console.log(\"showUserCoupons:\",this.showUserCoupons);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"获取用户优惠券数据失败\", error);\r\n      }finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    handleTabClick(tab) {\r\n      const status = tab.name;\r\n      if(status==='all'){\r\n        this.showUserCoupons = this.flattenedUserCoupons;\r\n      }else{\r\n        this.showUserCoupons = this.flattenedUserCoupons\r\n            .filter(item => item.status===status);\r\n      }\r\n    },\r\n    numberFormatter(row, column, value) {\r\n      return `${value.toFixed(2)}`;\r\n    },\r\n    // 金额格式化函数，将数字格式化为人民币形式\r\n    currencyFormatter(row, column, value) {\r\n      // 保留两位小数并添加人民币符号\r\n      return `￥${value.toFixed(2)}`;\r\n    },\r\n    // 优惠券类型的格式化函数，判断是平台券还是店铺券\r\n    couponTypeFormatter(row) {\r\n      console.log(\"couponTypeFormatter\",row);\r\n      // 根据 'isPlatformCoupon' 值判断并返回相应的券类型\r\n      return row.isPlatformCoupon ? \"平台券\" : `${row.shop_name}店铺券`;\r\n    },\r\n    // 券的状态\r\n    statusFormatter(row,column,value){\r\n      if(value==='Unused'){\r\n        return \"未使用\";\r\n      }else if(value==='Used'){\r\n        return \"已使用\";\r\n      }else if(value==='Expired'){\r\n        return \"已过期\";\r\n      }else {\r\n        return \"未知状态\";\r\n      }\r\n    },\r\n    parseJson(str) {\r\n      return JSON.parse(str);\r\n    },\r\n    // 查看券的可用范围\r\n    async viewCouponRange(row,index) {\r\n      this.selectIndex = index+1;\r\n      const couponId = row.coupon_id; // 获取当前行的 coupon_id\r\n      try {\r\n        const response = await axios.get(`http://localhost:8081/userCoupon/scope/details?coupon_id=${couponId}`);\r\n        const scopeDetails = response.data;\r\n\r\n        if (row.isPlatformCoupon) {\r\n          this.platformScopeData = scopeDetails.platform || [];\r\n          this.shopScopeData = []; // 清空店铺券数据\r\n          console.log(\"platform:\",this.shopScopeData);\r\n          console.log(\"platform:\",this.platformScopeData);\r\n          this.platformCouponDialogVisible = true; // 显示平台券弹窗\r\n        } else {\r\n          this.shopScopeData = scopeDetails.shop || [];\r\n          this.platformScopeData = []; // 清空平台券数据\r\n          console.log(\"shop:\",this.shopScopeData);\r\n          console.log(\"shop:\",this.platformScopeData);\r\n          this.shopCouponDialogVisible = true; // 显示店铺券弹窗\r\n        }\r\n      } catch (error) {\r\n        console.error(\"获取范围数据失败:\", error);\r\n      }\r\n    },\r\n    // 清空平台券数据\r\n    clearPlatformScopeData() {\r\n      this.platformScopeData = [];\r\n    },\r\n    // 清空店铺券数据\r\n    clearShopScopeData() {\r\n      this.shopScopeData = [];\r\n    }\r\n  },\r\n  created() {\r\n    console.log('用户优惠券数据加载开始');\r\n    this.getUserCoupons();\r\n    console.log('用户优惠券数据加载完成');\r\n    // 模拟从后端获取数据\r\n    this.loading = false;\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-coupons-container {\r\n  width: 100%;\r\n}\r\n\r\n.user-coupons-page {\r\n  background-color: #f5f5f5;\r\n  padding: 20px 0;\r\n  min-height: calc(100vh - 120px);\r\n}\r\n\r\n.coupons-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n\r\n  h2 {\r\n    margin-bottom: 20px;\r\n    font-size: 24px;\r\n    font-weight: normal;\r\n  }\r\n}\r\n\r\n.coupon-list {\r\n  .coupon-item {\r\n    background: white;\r\n    bcoupon-radius: 8px;\r\n    margin-bottom: 20px;\r\n    overflow: hidden;\r\n\r\n    .coupon-header {\r\n      padding: 15px 20px;\r\n      bcoupon-bottom: 1px solid #eee;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .coupon-info {\r\n        .coupon-id {\r\n          margin-right: 20px;\r\n          color: #666;\r\n        }\r\n\r\n        .coupon-date {\r\n          color: #999;\r\n        }\r\n      }\r\n\r\n      .coupon-status {\r\n        color: #ff6700;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    .coupon-products {\r\n      padding: 20px;\r\n\r\n      .product-item {\r\n        display: flex;\r\n        gap: 15px;\r\n        padding: 10px 0;\r\n\r\n        img {\r\n          width: 80px;\r\n          height: 80px;\r\n          object-fit: cover;\r\n          bcoupon-radius: 4px;\r\n        }\r\n\r\n        .product-info {\r\n          flex: 1;\r\n\r\n          h4 {\r\n            margin: 0 0 5px;\r\n            font-size: 14px;\r\n          }\r\n\r\n          .product-spec {\r\n            color: #999;\r\n            font-size: 12px;\r\n            margin-bottom: 5px;\r\n          }\r\n\r\n          .product-price {\r\n            .price {\r\n              color: #ff6700;\r\n              font-weight: bold;\r\n              margin-right: 10px;\r\n            }\r\n\r\n            .quantity {\r\n              color: #999;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .coupon-footer {\r\n      padding: 15px 20px;\r\n      bcoupon-top: 1px solid #eee;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .coupon-total {\r\n        color: #666;\r\n\r\n        .total-price {\r\n          color: #ff6700;\r\n          font-weight: bold;\r\n          font-size: 18px;\r\n        }\r\n      }\r\n\r\n      .coupon-actions {\r\n        display: flex;\r\n        gap: 10px;\r\n      }\r\n    }\r\n\r\n    &.highlight {\r\n      animation: highlight 3s;\r\n    }\r\n  }\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 60px 0;\r\n  color: #999;\r\n\r\n  i {\r\n    font-size: 60px;\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n\r\n@keyframes highlight {\r\n  0% {\r\n    background-color: #fff1f0;\r\n  }\r\n  100% {\r\n    background-color: white;\r\n  }\r\n}\r\n\r\n.pay-method-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n  padding: 10px 0;\r\n\r\n  .pay-method-btn {\r\n    height: 50px;\r\n    font-size: 16px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 10px;\r\n\r\n    i {\r\n      font-size: 20px;\r\n    }\r\n  }\r\n}\r\n\r\n.pay-dialog-content {\r\n  text-align: center;\r\n  padding: 20px 0;\r\n\r\n  .pay-type-text {\r\n    font-size: 18px;\r\n    color: #333;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .qr-code {\r\n    width: 200px;\r\n    height: 200px;\r\n    margin: 0 auto 20px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    img {\r\n      max-width: 100%;\r\n      max-height: 100%;\r\n    }\r\n  }\r\n\r\n  .pay-amount {\r\n    font-size: 18px;\r\n    margin-bottom: 15px;\r\n\r\n    .price {\r\n      color: #ff6700;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .pay-tips {\r\n    color: #666;\r\n\r\n    p {\r\n      margin: 5px 0;\r\n\r\n      &.small {\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.dialog-footer {\r\n  text-align: center;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}