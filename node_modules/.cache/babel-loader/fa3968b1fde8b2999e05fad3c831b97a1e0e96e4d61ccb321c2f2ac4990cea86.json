{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'UserCenter',\n  data() {\n    return {\n      userInfo: null,\n      activeMenu: '1'\n    };\n  },\n  computed: {\n    ...mapGetters(['currentUser', 'isAuthenticated'])\n  },\n  created() {\n    if (!this.isAuthenticated) {\n      this.$router.push({\n        path: '/login',\n        query: {\n          redirect: '/user/center'\n        }\n      });\n    } else {\n      this.getUserInfo();\n    }\n  },\n  methods: {\n    getUserInfo() {\n      this.$axios.get(`http://localhost:8081/users/detail/${this.currentUser.username}`).then(response => {\n        if (response.data.status === 'success') {\n          this.userInfo = response.data.data;\n        }\n      }).catch(error => {\n        console.error('获取用户信息失败:', error);\n        this.$message.error('获取用户信息失败');\n      });\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","name","data","userInfo","activeMenu","computed","created","isAuthenticated","$router","push","path","query","redirect","getUserInfo","methods","$axios","get","currentUser","username","then","response","status","catch","error","console","$message"],"sources":["src/views/UserCenter.vue"],"sourcesContent":["<template>\r\n  <div class=\"user-center\">\r\n    <div class=\"user-container\">\r\n      <h2>用户中心</h2>\r\n      <div class=\"user-content\" v-if=\"userInfo\">\r\n        <div class=\"user-info\">\r\n          <h3>个人信息</h3>\r\n          <el-descriptions :column=\"1\" border>\r\n            <el-descriptions-item label=\"用户名\">{{ userInfo.username }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"邮箱\">{{ userInfo.email }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"角色\">{{ userInfo.role }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"账号状态\">{{ userInfo.status }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"注册时间\">{{ userInfo.created_time }}</el-descriptions-item>\r\n          </el-descriptions>\r\n        </div>\r\n        \r\n        <div class=\"user-actions\">\r\n          <el-menu class=\"user-menu\" :default-active=\"activeMenu\">\r\n            <el-menu-item index=\"1\">\r\n              <router-link to=\"/user/orders\">我的订单</router-link>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"2\">\r\n              <router-link to=\"/user/profile\">个人资料</router-link>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"3\">\r\n              <router-link to=\"/user/address\">收货地址</router-link>\r\n            </el-menu-item>\r\n          </el-menu>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'UserCenter',\r\n  data() {\r\n    return {\r\n      userInfo: null,\r\n      activeMenu: '1'\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentUser', 'isAuthenticated'])\r\n  },\r\n  created() {\r\n    if (!this.isAuthenticated) {\r\n      this.$router.push({\r\n        path: '/login',\r\n        query: { redirect: '/user/center' }\r\n      });\r\n    } else {\r\n      this.getUserInfo();\r\n    }\r\n  },\r\n  methods: {\r\n    getUserInfo() {\r\n      this.$axios.get(`http://localhost:8081/users/detail/${this.currentUser.username}`)\r\n        .then(response => {\r\n          if (response.data.status === 'success') {\r\n            this.userInfo = response.data.data;\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('获取用户信息失败:', error);\r\n          this.$message.error('获取用户信息失败');\r\n        });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-center {\r\n  min-height: calc(100vh - 120px);\r\n  background-color: #f5f5f5;\r\n  padding: 20px 0;\r\n\r\n  .user-container {\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n    background: white;\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n\r\n    h2 {\r\n      margin-bottom: 20px;\r\n      color: #333;\r\n      border-bottom: 1px solid #eee;\r\n      padding-bottom: 10px;\r\n    }\r\n  }\r\n\r\n  .user-content {\r\n    display: flex;\r\n    gap: 20px;\r\n\r\n    .user-info {\r\n      flex: 1;\r\n      padding: 20px;\r\n      background: #f9f9f9;\r\n      border-radius: 4px;\r\n\r\n      h3 {\r\n        margin-bottom: 15px;\r\n        color: #666;\r\n      }\r\n    }\r\n\r\n    .user-actions {\r\n      width: 200px;\r\n\r\n      .user-menu {\r\n        border-radius: 4px;\r\n        \r\n        a {\r\n          text-decoration: none;\r\n          color: #333;\r\n          display: block;\r\n          width: 100%;\r\n          \r\n          &:hover {\r\n            color: #ff6700;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style> "],"mappings":";AAmCA,SAAAA,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAL,UAAA;EACA;EACAM,QAAA;IACA,UAAAC,eAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAC,IAAA;QACAC,KAAA;UAAAC,QAAA;QAAA;MACA;IACA;MACA,KAAAC,WAAA;IACA;EACA;EACAC,OAAA;IACAD,YAAA;MACA,KAAAE,MAAA,CAAAC,GAAA,4CAAAC,WAAA,CAAAC,QAAA,IACAC,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAlB,IAAA,CAAAmB,MAAA;UACA,KAAAlB,QAAA,GAAAiB,QAAA,CAAAlB,IAAA,CAAAA,IAAA;QACA;MACA,GACAoB,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,cAAAA,KAAA;QACA,KAAAE,QAAA,CAAAF,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}